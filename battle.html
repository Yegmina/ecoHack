<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Region Battle - EcoHack</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/animations.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand">
            <h2>üå± EcoHack</h2>
        </div>
        <ul class="nav-links">
            <li><a href="dashboard.html">Dashboard</a></li>
            <li><a href="battle.html" class="active">Region Battle</a></li>
            <li><a href="solutions.html">Solutions</a></li>
        </ul>
        <div class="user-profile">
            <!-- Populated by app.js -->
        </div>
    </nav>

    <div class="dashboard-container">
        <div class="dashboard-header">
            <h1>üèÜ Region Battle</h1>
            <p>Compete with teams and regions to implement the most impactful eco solutions</p>
        </div>

        <!-- Region Map -->
        <div class="map-container">
            <h2 class="card-title">Helsinki Regions</h2>
            <p style="color: var(--text-light); margin-bottom: 1rem;">Click on a region to see details</p>
            <div class="helsinki-map" id="regionMap">
                <!-- Populated by battle.js -->
            </div>
        </div>

        <!-- Leaderboards -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem; margin-top: 2rem;">
            <!-- Region Leaderboard -->
            <div class="leaderboard">
                <div class="leaderboard-header">
                    <h3 class="card-title">üèÜ Region Rankings</h3>
                    <span class="badge badge-info">Live</span>
                </div>
                <div id="regionLeaderboard">
                    <!-- Populated by battle.js -->
                </div>
            </div>

            <!-- Team Leaderboard -->
            <div class="leaderboard">
                <div class="leaderboard-header">
                    <h3 class="card-title">üë• Team Rankings</h3>
                    <span class="badge badge-info">Top 10</span>
                </div>
                <div id="teamLeaderboard">
                    <!-- Populated by battle.js -->
                </div>
            </div>

            <!-- Player Leaderboard -->
            <div class="leaderboard">
                <div class="leaderboard-header">
                    <h3 class="card-title">‚≠ê Player Rankings</h3>
                    <span class="badge badge-info">Ecocarma</span>
                </div>
                <div id="playerLeaderboard">
                    <!-- Populated by battle.js -->
                </div>
            </div>
        </div>

        <!-- Achievements Section -->
        <div class="chart-container" style="margin-top: 2rem;">
            <h3 class="chart-title">üèÖ Your Achievements</h3>
            <div id="achievementsContainer" style="display: flex; flex-wrap: wrap; gap: 1rem; margin-top: 1rem;">
                <!-- Populated by gamification.js -->
            </div>
        </div>

        <!-- Real-time Updates Info -->
        <div class="card" style="margin-top: 2rem; background: var(--gradient-light); color: white;">
            <div class="card-header">
                <h3 style="color: white;">‚ö° Real-Time Updates</h3>
            </div>
            <p style="color: rgba(255,255,255,0.9);">
                The leaderboards update in real-time as teams implement solutions across Helsinki. 
                Watch your region climb the rankings as more eco solutions are deployed!
            </p>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/gamification.js"></script>
    <script src="js/battle.js"></script>
    <script src="js/app.js"></script>
    <script>
        // Load user achievements
        document.addEventListener('DOMContentLoaded', function() {
            const user = getCurrentUser();
            if (user && user.achievements) {
                const container = document.getElementById('achievementsContainer');
                if (container) {
                    container.innerHTML = user.achievements.map(achievement => `
                        <div class="achievement-badge badge-earn">
                            <span class="achievement-icon">${achievement.icon}</span>
                            <div>
                                <div style="font-weight: 600;">${achievement.name}</div>
                                <div style="font-size: 0.8rem; opacity: 0.9;">${achievement.description}</div>
                            </div>
                        </div>
                    `).join('');
                }
            } else {
                const container = document.getElementById('achievementsContainer');
                if (container) {
                    container.innerHTML = '<p style="color: var(--text-light);">No achievements yet. Implement solutions to unlock achievements!</p>';
                }
            }
        });
    </script>
</body>
</html>



